第0章 计算机概论
0.1. 电脑：辅助人脑的好工具
    计算机定义：
    接收使用者输入指令与资料，经由中央处理器的数学与逻辑单元运算处理后，以产生或储存成有用的资讯
    0.1.1 电脑硬体的五大单元
        输入单元；输出单元；CPU内部的控制单元；算数逻辑单元；主记忆体
        CPU要处理的资料完全来自于主记忆体
        CPU里含有微指令集，CPU能执行什么功能，取决于指令集
    0.1.2 一切设计的起点：CPU的架构
        精简指令集（Reduced Instruction Set Computer， RISC)
            微指令集較為精簡，每個指令的執行時間都很短，完成的動作也很單純，指令的執行效能較佳； 但是若要做複雜的事情，就要由多個指令來完成。
            常见的RISC微指令集CPU：Oracle的SPARC系列、 IBM的Power Architecture系列、ARM Holdings的ARM CPU系列等。
        复杂指令集（Complex Instruction Set Computer, CISC）
            每個小指令可以執行一些較低階的硬體操作，指令數目多而且複雜， 每條指令的長度並不相同。因為指令執行較為複雜所以每條指令花費的時間較長， 但每條個別指令可以處理的工作較為豐富。
            常見的CISC微指令集CPU主要有AMD、Intel、VIA等的x86架構的CPU，这些广泛运用在个人电脑上。
    0.1.3 其他单元的设备
        系统单元
            包括CPU与记忆体及主机板相关元件，主板上有网卡，显卡等
        记忆单元
            主记忆体（main memory，RAM) 
            辅助记忆体，及储存装置，如硬碟、软碟、光碟、磁带
        输入、输出单元
            蓝牙耳机、HDMI电视、打印机也算
    0.1.4 运作流程
        将各元件类比成人体一部分
        CPU = 脑子
        主记忆体 = 脑袋中放置正在被思考的资料的区块
        硬碟 = 脑袋中放置回忆的记忆区块
        主机板 = 神经系统
        各项周边设备 = 人体与外界沟通的手、脚、皮肤、眼睛等
        显卡 = 脑袋中的影像
        电源供应器 = 心脏
        另外，CPU要处理以前的数据，也需要主记忆体从硬碟处拿到内容，再转给CPU
    0.1.5 电脑用途的分类
        超级电脑；大型电脑；迷你电脑；工作站；微电脑；
    0.1.6 电脑上面常用的计算单位（容量、速度等）
        容量单位
            1 byte = 8 bits
            进位制   Kilo   Mega   Giga   Tera   Peta   Exa   Zetta
            二进制   1024   1024K  1024M  1024G  1024T  1024P 1024E
            十进制   1000   1000K  1000M  1000G  1000T  1000P 1000E
        速度单位
            常用MHz或GHz表示；Hz表示秒分之一
            网络传输中用bit为单位，所以常使用的单位为Mbps，即Mbits per second，即每秒多少Mbit

0.2 个人电脑架构与相关设备元件
    0.2.1 执行脑袋运算与判断的CPU
        时脉：CPU每秒钟可以进行的工作次数。时脉只能用来比较同款CPU的速度
        CPU的工作时脉：外频与倍频
            在早期的CPU設計中，所謂的外頻指的是CPU與外部元件進行資料傳輸時的速度，倍頻則是 CPU 內部用來加速工作效能的一個倍數， 兩者相乘才是CPU的時脈速度。
        32位元与64位元的CPU与汇流排‘宽度’
            前段汇流排速度（Front Side Bus，FSB）：主记忆体中的传输速度
            主记忆体的时脉由CPU内的记忆体控制器决定
            ‘宽度’：每次时脉能传输的资料量，一般为64位元
            CPU每次能夠處理的資料量稱為字組大小(word size)， 字組大小依據CPU的設計而有32位元與64位元。我們現在所稱的電腦是32或64位元主要是依據這個CPU解析的字組大小而來的。
        CPU等级
        超执行绪（Hyper-Threading， HT)
    0.2.2 记忆体
        个人电脑的主机一体主要元件位动态随机存取记忆体（Dynamic Random Access Memory， DRAM），它只能在通电时使用
        对服务器来说，主记忆体的容量有时比CPU的速度来得重要
        多通道设计
            将两个或以上主记忆体汇整在一起，增大器资料宽度。如一支记忆体可达64位元，两支就是128位元。
        DRAM与SRAM
            SRAM，Static Random Access Memory，静态随机存取记忆体，是CPU的第二层快取（L2
            cache），速度与CPU时脉相同。
        唯读记忆体（ROM）
            主机板上的一个记忆体晶片，它在没有通电时也能将资料记录下来
            轫体（firmware）：如BIOS，像软体一样也是被电脑所执行的程序，然而是对硬体内部而言更加重要。如BIOS跟操作电脑系统没有太大关系，但是控制着开机时各项硬体参数的取得。
    0.2.3 显示卡
        又称VGA（Video Graphics Array）
        显示卡记忆体容量会影响到荧幕解析度与色彩深度
        GPU：嵌有3D加速晶片的显示卡
        显卡与电脑荧幕／电视链接的格式：D-Sub；DVI；HDMI（可同时传送影像与声音）；Display port
    0.2.4 影碟与粗存设备
        硬碟的物理组成
            硬碟盒里由许许多多圆形磁碟盘、机械手臂、磁碟读取头与主轴马达组成的
            實際的資料都是寫在具有磁性物質的磁碟盤上頭，而讀寫主要是透過在機械手臂上的讀取頭(head)來達成。 實際運作時， 主軸馬達讓磁碟盤轉動，然後機械手臂可伸展讓讀取頭在磁碟盤上頭進行讀寫的動作。
        磁碟盘上的资料
            资料的写入是以圆圈转圈的方式读写
            在磁盘上切出一个个小区块，让机器手臂上的读写头去存取。這個小區塊就是磁碟的最小物理儲存單位，稱之為磁區 (sector)，那同一個同心圓的磁區組合成的圓就是所謂的磁軌(track)。 由於磁碟裡面可能會有多個磁碟盤，因此在所有磁碟盤上面的同一個磁軌可以組合成所謂的磁柱 (cylinder)。
        传输界面
            SATA介面
            SAS介面
            USB介面
            固态影碟（Solid State Disk，SSD）
                优点：与传统硬碟相比，没有马达，不需要转动，而是透过记忆体直接读写，没有资料延迟，快速且省电
            购买影碟与运转须知
                HDD／SSD；容量；缓冲记忆体；转速
                电脑通电后，不要移动主机，避免抖动影碟；使用正常关机方式，保证硬碟手臂回归原位
    0.2.5 扩充卡与界面
    0.2.6 主机板
        发挥扩充卡效能须考虑插槽的位置
        设备I/O位址与IRQ中断通道
            I/O位址类似每个装置的门牌号码，每个装置都有自己的位址，一般I/O位址唯一。
            IRQ类似各门牌连接到邮件中心（CPU)的专门路径。各装置可以通过IRQ中断通道来告知CPU该装置的工作情况，以便CPU进行工作分配的任务
        CMOS与BIOS
            CMOS主要的功能為記錄主機板上面的重要參數， 包括系統時間、CPU電壓與頻率、各項設備的I/O位址與IRQ等，由於這些資料的記錄要花費電力，因此主機板上面才有電池。
            BIOS為寫入到主機板上某一塊 flash 或 EEPROM 的程式，他可以在開機的時候執行，以載入CMOS當中的參數， 並嘗試呼叫儲存裝置中的開機程式，進一步進入作業系統當中。
        连接周边设备的介面
            PS/2介面；USB介面；声音输出、输入与麦克风；RJ-45网络头；HDMI
    0.2.7 电源供应器
        能源转换率
            = 输出的功率/输入的功率   
            电源供应器本身也会吃掉一部分的电力
    0.2.8 选购须知
        速度的快慢与整体系统的最慢的那个设备有关
        系统不稳定的可能原因：
            系统超频；电源供应器不稳定；记忆体无法负荷；系统过热

0.3 资料表示方式
    0.3.1 数字系统
    0.3.2 文字编码系统
        编码系统类似‘字码对照表‘
        常用的英文编码是ASCII。这个系统中，每个符号（英文、数字或符号等）都占用1 byte的记录，因此共有2**8=256种变化。
        Unicode=UTF-8

0.4 软体程式运作
    0.4.1 机器程式与编译程式
        需要CPU帮忙工作时，必须参考微指令集的内容，然后撰写让CPU读得懂的指令码给CPU执行，但是这个流程很麻烦，因为：需要了解机器语言；需要了解所有硬体的相关功能函数；程序不具有可携性；程式具有专一性
        因此，发明一种人类看得懂得程序语言，然后创造一种编译器，来将程序语言翻译成机器能看懂得机器码。
        为了克服硬体方面老师需要重复撰写控制码的问题，创造出了operating system。
    0.4.2 作业系统
        作业系统核心（Kernal）
            作业系统（operating system，OS)也是一组程式，它的重点在于管理电脑的所有活动以及驱动系统中的所有硬体。
            核心程式所放置到记忆体当中的区块是受保护的，并且开机之后就一直常驻在记忆体中。
        系统呼叫（System Call）
            作业系统的核心层直接参考硬体规格写成，所以同一个作业系统程式不能够在不一样的硬体架构下运行
            作业系统只是在管理整个硬体资源，包括CPU、记忆体、输入输出装置及档案系统。因此需要软体的调用
            应用程式的开发都是参考作业系统提供的开发介面，所以该应用程式只能在该作业系统上面运作而已，不可以在其他作业系统上面运作。
        核心功能
            系统呼叫介面（System call interface）
            程序管理（Process control）
            记忆体管理（memory manegement）
            档案系统管理（filesystem management）
            装置的驱动（device drivers）
        作业系统与驱动程式
            作业系统必须要能够驱动硬体，应用程式才能使用该硬体功能；
            一般来说，作业系统会提供开发介面，让开发商制作它们的驱动程式；
            要使用新硬体功能，必须要安装厂商提供搞得驱动程式才行；
            驱动程式是由厂商提供的，与作业系统开发者无关。
    0.4.3 应用程式
            应用程式是参考作业系统提供的开发介面所开发出来的软体，这些软体可以让使用者做错，已达到某些电脑的功能应用。

第1章 Linux是什么与如何学习
1.1 Linux是什么     
    1.1.1 Linux是什么？作业系统/应用程式？
        Linux是作业系统，具有可移植性
        软体移植：参考硬体的功能函数并据以修改自己的作业系统程式码，使得改版后的作业系统能在另一个硬体平台上运作
    1.1.2 Linux之前，Unix的历史
        Linux核心有Linux Torvalds在1991年开发出来；1970年代，Unix已是一个相当稳定而成熟的作业系统
        1969年以前：一个伟大的梦想--Bell，MIT与GE的Multics系统
            这个时候电脑普通人很难接触到，并且难用。输入设备只有读卡器、输出设备只有打印机，使用者也无法与作业系统互动（批次型作业系统，batch system）。
            1960年代MIT发展了相容分时系统（compatible time-sharing system，CTSS），它可以让大型主机透过提供数个终端机（terminal）以连线进入主机，来利用主机的资源进行运算工作。此结构类似client-server。比较先进的主机提供30个termial不到。
            1965年左右，Bell，MIT和GE共同发起Multics计划，目的让大型主可以达成提供300个以上的终端机连线使用目标。
        1969年：Ken Thompson的小型file server system
            Thompson用一个月时间，以组合语言Assembler写出了一组核心程式，同时包括一些核心工具程式，以及一个档案系统，将Multics庞大的复杂系统简化了不少，被称为Unics，是Unix的原型。此档案系统有两个重要概念：
                所有的程式或系统装置都是档案；不管建构编辑器还是附属档案，所写的程式只有一个目的，且要有效地完成目标。
        1973年：Unix的正式诞生，Ritchie等人以C语言写出第一个正式Unix核心
            Unics由于用组合语言写的，每次要安装到不同的机器都要重新编写组合语言，不方便。于是Thompson和Ritchie想要将Unics改用高级语言撰写。当时现有的高级语言是B语言，但是B语言编译出来的效果不好，于是Ritchie将B语言重新改写成C语言，再用C改写编译Unics的核心，最后成为Unix。
            这个改变使得Unix很容易被移植到不同的机器上面。
        1977年：重要的Unix分支--BSD的诞生
            Bill Joy: Berkeley Software Distribution (BSD)
        1979年：重要的System V架构与版权宣告
            作業系統的核心(Kernel)必須要跟硬體配合， 以提供及控制硬體的資源進行良好的工作。
            早先的Unix只能與伺服器(Server)或者是大型工作站(Workstation)劃上等號。
            目前被稱為純種的Unix指的就是System V以及BSD這兩套囉。
        1984年之一：x86架构的Minix作业系统开始撰写并于两年后诞生
            Andrew S.Tanenbaum
            这是个Unix Like的核心程序，主要在教育用途上
            使用者购买磁片，会附上源代码，這個特色對於Linux的啟始開發階段，可是有很大的關係喔
        1984年之二：GNU计划于FSF基金会的成立
            Richard Mathew Stallman
            Emacs；GNU C（GCC）；GNU C Library （glibc）；Bash shell
            General Public License， GPL
        1988年： 图形介面XFree86计划
        1991年：芬兰大学生Linus Torvalds的一则简讯
            芬蘭的赫爾辛基大學的Linus Torvalds在BBS上面貼了一則消息， 宣稱他以bash, gcc等 GNU 的工具寫了一個小小的核心程式，該核心程式單純是個玩具，不像 GNU 那麼專業。 不過該核心程式可以在Intel的386機器上面運作就是了。這讓很多人很感興趣！從此開始了Linux不平凡的路程！
    1.1.3 关于GNU计划、自由软体与开放原始码
        自由软体的活动
        自由软体的版权GNU GPL
            FSF核心的观念是：版权制度是促进社会进步的手段，版权本身不是自然权力
            GNU是GNU's Not Unix的缩写
        自由（Free）的真谛
            "Free software" is a matter of liberty, not price. To understand the concept, you should think of "free speech", not "free beer". "Free software" refers to the users' freedom to run, copy, distribute, study, change, and improve the software。 -- Stallman
            Free software具有以下特色：
                取得軟體與原始碼：你可以根據自己的需求來執行這個自由軟體；
                複製：你可以自由的複製該軟體；
                修改：你可以將取得的原始碼進行程式修改工作，使之適合你的工作；
                再發行：你可以將你修改過的程式，再度的自由發行，而不會與原先的撰寫者衝突；
                回饋：你應該將你修改過的程式碼回饋於社群！
            修改的任何一个free software都不可以这样：
                修改授權：你不能將一個GPL授權的自由軟體，在你修改後而將他取消GPL授權～
                單純販賣：你不能單純的販賣自由軟體。
        自由软体与商业行为
            GPL对于自由软体的作者的优点：
                軟體安全性較佳；
                軟體執行效能較佳；
                軟體除錯時間較短；
                貢獻的原始碼永遠都存在。
        开放原始码
        专属/专利软体（close software）
1.2 Torvalds的Linux发展
    1.2.1 与Minix之间
    1.2.2 对386硬体的多工测试
        理论上，一个CPU在一个时间内仅能进行一个程式。如果有多个程式同时出现到系统中时，具有多工功能的CPU就会在不同的程式间切换
    1.2.3 初次释出Linux0.02
        Linux能兼容在Unix上的软体
        POSIX， Portable Operating System Interface， 重点自傲与规范河西与应用程式之间的介面，这是由美国与电子工程师学会（IEEE)所发布的一项标准。
    1.2.4 Linux的发展：虚拟团队的产生
        略
    1.2.5 Linux的核心版本
        略
    1.2.6 Linux distributions
        略
1.3 Linux当前应用的角色
    1.3.1 企业环境的利用
        网络服务器
        关键任务的应用（金融资料库、大型企业网管环境）
        学术机构的高效能运算任务
            平行运行算：将原本的工作分成多份，然后交给多部主机去运算，最终再将结果收集起来的一种方式
            Linux作业系统是这种架构下相当重要的一个环境平台
    1.3.2 个人环境的使用
        桌上型电脑
        手持系统（PDA、手机）
            Android是Linux核心的一支，只是专门用来针对手机/平板这类ARM机器所设计的
        嵌入式系统
    1.3.3 云端运用
        云程序
        端设备 （如Raspberry Pi， Banana Pi）
1.4 Linux该如何学习
    计算机概论和硬体相关知识
    Linux的安装与指令
    Linux作业系统的基础技能
    务必学会vi文书编辑器
    Shell与Shell Script的学习
    一定要会软体管理员
    网络基础的建立
    电脑基础：http://www.study-area.org/compu/compu.htm
    网络基础：http://www.study-area.org/network/network.htm

第2章 主机规划与磁碟分割
2.1 Linux与硬体的搭配
    2.1.1 认识电脑的硬体搭配
    2.1.2 选择与Linux搭配的主机配备：硬体支援相关网站
    2.1.3 个硬体装置在Linux中的档名
        在Linux系统中，每个装置都被当成一个档案来对待
            如SATA介面的硬碟的档案名称为/dev/sd[a-d]; 虚拟机中的VirtI/O介面为/dev/vd[a-p]，等等 
    2.1.4 使用虚拟机学习
2.2 磁碟分割
    2.2.1 磁碟连接的方式与装置档名的关系
        虚拟机使用到的‘虚拟磁碟’并不是正规的磁碟介面。这种情况下，磁碟档名就会和正常不一样。正常实体机器大概使用/dev/vd[a-]的磁碟名， 而虚拟环境下，为了加速，可能就会使用/dev/vd[a-p]这种装置名
        SATA/USD介面的磁碟没有一定的顺序，装置档名根据Linux核心侦测到磁碟的顺序。
        
        GPT（GUID partition table）是新的一种磁碟分割格式
    2.2.2 MSDOS（MBR）与GPT磁碟分割表（partition table）
        MSDOS（MBR）分割表格式与限制
        早期磁碟第一个磁区里的重要资讯被称为MBR格式（Master Boot Record）
            主要開機記錄區(Master Boot Record, MBR)：可以安裝開機管理程式的地方，有446 bytes
            分割表(partition table)：記錄整顆硬碟分割的狀態，有64 bytes
            由於分割表所在區塊僅有64 bytes容量，因此最多僅能有四組記錄區，每組記錄區記錄了該區段的啟始與結束的磁柱號碼。
            其實所謂的『分割』只是針對那個64 bytes的分割表進行設定而已！
            硬碟預設的分割表僅能寫入四組分割資訊
            這四組分割資訊我們稱為主要(Primary)或延伸(Extended)分割槽
            分割槽的最小單位『通常』為磁柱(cylinder)
            當系統要寫入磁碟時，一定會參考磁碟分割表，才能針對某個分割槽進行資料的處理
            延伸分割的目的是使用額外的磁區來記錄分割資訊，延伸分割本身並不能被拿來格式化。 
            逻辑分割槽：由延伸分割继续分割出来的分割槽
            分割的原因：
                资料的安全性；系统的效能考量
            MBR分割局限：
                作業系統無法抓取到 2.2T 以上的磁碟容量！
                MBR 僅有一個區塊，若被破壞後，經常無法或很難救援。
                MBR 內的存放開機管理程式的區塊僅 446bytes，無法容納較多的程式碼。
        GUID partition table， GPT磁碟分割表
            GPT用34个区块来记录分割资讯；整个磁碟的最后33个LBA也拿来作为另一个备份
    2.2.3 开机流程中的BIOS与UEFI开机检测程式
        BIOS搭配MBR/GPT的开机流程
            整个开机流程到作业系统之前的动作如下：
                1. BIOS：开机主动执行的韧体，会认识第一个可开机的装置
                2. MBR：第一个可开机装置的第一个磁区内的主要开机记录区块，内含开机管理程式
                3. 开机管理程式（boot loader）：一直可读取核心档案来执行的软体
                4. 核心档案：开始作业系统的功能
            Boot loader的主要任务：
                提供选单：使用者可以选择不同的开机项目，这也是多重开机的重要功能
                载入核心档案：直接指向可开机的程式区段来开始作业系统
                转交其他loader：将开机管理功能转交给其他loader负责 （开机管理程式除了可以安装在MBR之外，还可以安装在每个分割草的开机磁区（boot sector）
            每个分割槽都拥有自己的开机磁区
            实际可开机的核心档案是放置到各分割槽内的
            loader只会认识自己系统槽内的可开机核心档案，一起其他loader而已
        UEFI BIOS搭配GPT开机的流程
        http://linux.vbird.org/linux_basic/0130designlinux.php
    2.2.4 Linux安装模式下，磁碟分割的选择（极重要）
2.3 安装Linux前的规划
    2.3.1 选择适当的distribution
    2.3.2 主机的服务规划与硬体的关系
    2.3.3 主机硬碟的主要规划（partition）
    2.3.4 鸟哥的两个实际案例